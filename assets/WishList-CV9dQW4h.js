import{_ as f,c as l,b as s,F as _,r as p,o,t as r,d as v}from"./index-Btt13_Rp.js";const k={data(){return{datas:{},favorite:[]}},mounted(){this.getData()},methods:{getData(){this.favorite=JSON.parse(localStorage.getItem("favorite")),this.$http.get("https://ec-course-api.hexschool.io/v2/api/hex-project/products/all").then(t=>{this.datas=t.data.products,this.datas=this.datas.map(e=>({...e,isLike:!1})),this.favorite.forEach(e=>{this.datas.forEach(c=>{c.id===e&&(c.isLike=!0)})}),this.datas=this.datas.filter(e=>e.isLike==!0)})},clickFavorite(a){if(this.favorite=JSON.parse(localStorage.getItem("favorite")),this.favorite!=null){const t=this.favorite.findIndex(e=>e===a);t!=-1?this.favorite.splice(t,1):this.favorite.push(a)}else this.favorite=[a];this.datas.find(t=>{t.id===a&&(t.isLike=!t.isLike)}),this.datas=this.datas.filter(t=>t.isLike==!0),localStorage.setItem("favorite",JSON.stringify(this.favorite))}}},g={class:"product"},m=s("div",{class:"sub-nav"},[s("ul",null,[s("li",null,"CHANEL"),s("li",null,"Jo Malone"),s("li",null,"Curology"),s("li",null,"Dior"),s("li",null,"Chloe"),s("li",null,"ZARA")])],-1),y={class:"list"},L={class:"list-img"},C=["src"],N={class:"list-prices"},S={class:"sp-price"},x={class:"list-icons"},b={key:0,class:"unfill"},F=["onClick"],D={key:1,class:"fill"},E=["onClick"],I=s("div",{class:"unfill"},[s("span",{class:"material-symbols-outlined"},"shopping_cart")],-1);function J(a,t,e,c,d,n){return o(),l("div",g,[m,s("ul",y,[(o(!0),l(_,null,p(d.datas,(i,h)=>(o(),l("li",{key:h},[s("div",L,[s("img",{src:i.image,alt:"image"},null,8,C)]),s("h3",null,r(i.title),1),s("p",null,r(i.category),1),s("div",N,[s("span",null,"NT"+r(i.price),1),s("span",S,"NT"+r(i.origin_price),1)]),s("div",x,[i.isLike?(o(),l("div",D,[s("span",{class:"fill material-symbols-outlined",onClick:u=>n.clickFavorite(i.id)},"favorite",8,E)])):(o(),l("div",b,[i.isLike?v("",!0):(o(),l("span",{key:0,class:"material-symbols-outlined",onClick:u=>n.clickFavorite(i.id)},"favorite",8,F))])),I])]))),128))])])}const A=f(k,[["render",J]]);export{A as default};
