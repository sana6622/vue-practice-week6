import{_ as f,c as l,b as s,F as _,r as p,o as a,t as c,d as v}from"./index-Btt13_Rp.js";const g={data(){return{datas:{},favorite:[]}},mounted(){this.getData()},methods:{getData(){this.favorite=JSON.parse(localStorage.getItem("favorite")),this.$http.get("https://ec-course-api.hexschool.io/v2/api/hex-project/products/all").then(t=>{this.datas=t.data.products,console.log("this.data",this.datas),this.datas=this.datas.map(o=>({...o,isLike:!1})),this.favorite.forEach(o=>{this.datas.forEach(r=>{r.id===o&&(r.isLike=!0)}),console.log("item",o)}),console.log("data",this.datas)})},clickFavorite(e){if(console.log("click",e),this.favorite=JSON.parse(localStorage.getItem("favorite")),this.favorite!=null){const t=this.favorite.findIndex(o=>o===e);t!=-1?(this.favorite.splice(t,1),console.log("有相符的",this.favorite)):(this.favorite.push(e),console.log("沒有相符的",this.favorite))}else this.favorite=[e];this.datas.find(t=>{t.id===e&&(t.isLike=!t.isLike)}),localStorage.setItem("favorite",JSON.stringify(this.favorite))}}},k={class:"product"},m=s("div",{class:"sub-nav"},[s("ul",null,[s("li",null,"CHANEL"),s("li",null,"Jo Malone"),s("li",null,"Curology"),s("li",null,"Dior"),s("li",null,"Chloe"),s("li",null,"ZARA")])],-1),y={class:"list"},C={class:"list-img"},L=["src"],N={class:"list-prices"},S={class:"sp-price"},x={class:"list-icons"},b={key:0,class:"unfill"},F=["onClick"],D={key:1,class:"fill"},E=["onClick"],I=s("div",{class:"unfill"},[s("span",{class:"material-symbols-outlined"},"shopping_cart")],-1);function J(e,t,o,r,d,n){return a(),l("div",k,[m,s("ul",y,[(a(!0),l(_,null,p(d.datas,(i,h)=>(a(),l("li",{key:h},[s("div",C,[s("img",{src:i.image,alt:"image"},null,8,L)]),s("h3",null,c(i.title),1),s("p",null,c(i.category),1),s("div",N,[s("span",null,"NT"+c(i.price),1),s("span",S,"NT"+c(i.origin_price),1)]),s("div",x,[i.isLike?(a(),l("div",D,[s("span",{class:"fill material-symbols-outlined",onClick:u=>n.clickFavorite(i.id)},"favorite",8,E)])):(a(),l("div",b,[i.isLike?v("",!0):(a(),l("span",{key:0,class:"material-symbols-outlined",onClick:u=>n.clickFavorite(i.id)},"favorite",8,F))])),I])]))),128))])])}const A=f(g,[["render",J]]);export{A as default};
